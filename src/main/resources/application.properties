# Azure Production Configuration
spring.application.name=core

# H2 in-memory para Azure (temporal - considera Azure SQL Database)
spring.datasource.url=jdbc:h2:mem:parkingdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Deshabilitar H2 console en producción
spring.h2.console.enabled=false

# Redis - Configuración para evitar fallo de inicio
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=2000ms
# Evita que Spring Boot falle si Redis no está disponible
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# JWT y Stripe desde variables de entorno de Azure
secret-key=${SECRET_KEY}
jwt.expiration=3600000
sk_stripe=${SECRET_KEY}


# Puerto para Azure
server.port=${PORT:8080}
